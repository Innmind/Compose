arguments:
    first: int
    second: stdClass ?? $inner.fallback.forBar
    third: '?array'

expose:
    foo: '$inner.bar'
    baz: '$inner.baz'
    set: '$ints'
    stream: '$strings'
    map: '$fixtures'

services:
    inner:
        bar Fixture\Innmind\Compose\ServiceFixture:
            - '$first'
            - '$second'
            - '$third'

        baz Fixture\Innmind\Compose\ServiceFixture:
            - '$first'
            - '$inner.fallback.forBar'

        fallback:
            forBar stdClass: []

    ints set<int>:
        - 1
        - 2
        - 42

    strings stream<string>:
        - foo
        - bar
        - baz

    fixtures map<string, Fixture\Innmind\Compose\ServiceFixture>:
        - <bar, $inner.bar>
        - <baz, $inner.baz>
